<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<div class="mobile-sidebar" th:fragment="sideBarFragment">
    <div class="super-space-app__sidebar">
        <div class="sidebar-inner">
            <div class="sidebar" th:with="member = ${sideBar.member}">
                <header>
                    <div id="logo" class="sidebar-section">
                        <a href="/community">
                            <img src="https://static.conmoto.site/images/logo.png" alt="logo" class="conmoto-logo">
                        </a>
                        <div>
                            <i class="material-icons-outlined" id="sidebar__fold">first_page</i>
                        </div>
                    </div>
                    <div class="sidebar-section info">
                        <div class="profile">
                            <div class="profile-thumbnail">
                                <img src="https://static.conmoto.site/images/user.svg" alt="thumbnail" class="profile-thumbnail-img">
                            </div>
                            <div class="profile-detail" th:if="${member.id != 'anonymous'}">
                                <span id="member" th:attr="data-member-id=${member.id}"
                                      th:text="${member.nickname}">ÎãâÎÑ§ÏûÑ</span>
                                <span th:text="${member.grade}">Îì±Í∏â</span>
                                <span th:text="|${member.joinDate} Í∞ÄÏûÖ|">Í∞ÄÏûÖÏùº</span>
                            </div>
                            <div class="profile-detail" th:if="${member.id == 'anonymous'}">
                                <span th:text="${member.nickname}">ÎãâÎÑ§ÏûÑ</span>
                            </div>
                        </div>
                        <div class="info-menu" th:unless="${member.id == 'anonymous'}">
                            <a class="items" role="button" onclick="goToEditor()">Í∏ÄÏì∞Í∏∞</a>
                            <span th:id="${member.id}" class="items" onclick="moveToMemberPage(this)">ÎÇ¥ ÌôúÎèô</span>
                            <a class="items" href="/community/noty">ÏïåÎ¶º</a>
                        </div>
                        <div class="group-manage" th:if="${role == 'ROLE_MANAGER'}"> <!--Í∑∏Î£π Í¥ÄÎ¶¨ÏûêÏùºÏãú Í¥ÄÎ¶¨Î≤ÑÌäº ÌôúÏÑ±Ìôî-->
                            <a role="button" class="group-menu-button" onclick="moveToGroupManagingPage()">ÌòÑÏû¨ Í∑∏Î£π Í¥ÄÎ¶¨</a>
                        </div>
                        <div class="group-manage" th:unless="${member.id == 'anonymous'}"> <!--Í∑∏Î£π Î©§Î≤ÑÏùºÏãú Ï¥àÎåÄÎ≤ÑÌäº ÌôúÏÑ±Ìôî-->
                            <a role="button" class="group-menu-button" onclick="openInviteModal()">Í∑∏Î£π Ï¥àÎåÄ</a>
                        </div>
                        <div class="group-manage" th:if="${groupPage && member.id == 'anonymous'}">
                            <!--Í∑∏Î£π Î©§Î≤ÑÍ∞Ä ÏïÑÎãê Ïãú Í∞ÄÏûÖÎ≤ÑÌäº ÌôúÏÑ±Ìôî-->
                            <a role="button" class="group-menu-button" onclick="moveToGroupJoinPage()">Í∑∏Î£π Í∞ÄÏûÖ</a>
                        </div>
                    </div>
                </header>
                <div class="sidebar-menu-scroll">
                    <div class="sidebar-section group-list">
                        <header class="sidebar-header">
                            <span>Í∞ÄÏûÖÌïú Í∑∏Î£π</span>
                            <i class="material-icons-outlined expand md-18 gray">expand_more</i>
                        </header>
                        <main>
                            <ul class="none">
                                <li id="group-container" th:each="group: ${sideBar.groups}">
                                    <div class="sidebar-elements pointer-hover">
                                        <span style="width: 100%" onclick="moveToGroup(this)" th:attr="data-url=${group.groupUrl}"
                                              th:utext="${group.groupName}">
                                            GROUP NAME
                                        </span>
                                    </div>
                                </li>
                            </ul>
                            <div class="group-menu">
                                <a href="/community/new" class="group-menu-button">Í∑∏Î£π ÏÉùÏÑ±</a>
                            </div>
                        </main>
                    </div>
                    <div class="sidebar-section favorite-category" th:if="${groupPage}">
                        <header class="sidebar-header">
                            <span>Ï¶êÍ≤®Ï∞æÎäî Ïπ¥ÌÖåÍ≥†Î¶¨</span>
                            <i class="material-icons-outlined expand md-18 gray">expand_more</i>
                        </header>
                        <main>
                            <ul id="favorite-category-list" class="none">
                                <li th:each="category: ${sideBar.categories}" th:if="${category.favorite}">
                                    <div class="sidebar-elements pointer-hover">
                                        <span style="width: 100%" th:text="${category.name}" onclick="moveToCategoryPage(this)">
                                            Ï¶êÍ≤®Ï∞æÎäî Ïπ¥ÌÖåÍ≥†Î¶¨ Î™Ö
                                        </span>
                                    </div>
                                </li>
                            </ul>
                        </main>
                    </div>
                    <div class="sidebar-section category" th:if="${groupPage}">
                        <header class="sidebar-header">
                            <span>Ï†ÑÏ≤¥ Ïπ¥ÌÖåÍ≥†Î¶¨</span>
                            <i class="material-icons-outlined expand md-18 gray">expand_more</i>
                        </header>
                        <main>
                            <div id="category-container">
                                <span>Í∏∞Î≥∏ Ïπ¥ÌÖåÍ≥†Î¶¨</span>
                                <div class="default-category">
                                    <div class="sidebar-elements pointer-hover">
                                        <span style="width: 100%" onclick="moveToMainPage(this)">üî•ÌïúÎààÏóê Î≥¥Í∏∞</span>
                                    </div>
                                    <div class="sidebar-elements pointer-hover">
                                        <span style="width: 100%" onclick="moveToMainPage(this)">üìùÏ†ÑÏ≤¥ Í≤åÏãúÍ∏Ä</span>
                                    </div>
                                    <div class="sidebar-elements pointer-hover">
                                        <span style="width: 100%" onclick="moveToMainPage(this)">‚≠êÍ≥µÏßÄÏÇ¨Ìï≠</span>
                                    </div>
                                </div>
                                <span>ÏùºÎ∞ò Ïπ¥ÌÖåÍ≥†Î¶¨</span>
                                <div class="custom-category">
                                    <div class="sidebar-elements" th:each="category: ${sideBar.categories}"
                                         th:unless="${category.type} == 'NOTICE'"
                                         th:classappend="${category.type} == 'CATEGORY_GROUP' ? 'js-category-group' : 'pointer-hover'"
                                         th:attr="data-fold=${category.fold}">
                                        <div class="sidebar-category-group"
                                             th:if="${category.type == 'CATEGORY_GROUP'}">
                                            <span th:text="${category.name}">Ïπ¥ÌÖåÍ≥†Î¶¨ Í∑∏Î£π Î™Ö</span>
                                            <i class="js-category-expand material-icons-outlined md-18 gray">expand_more</i>
                                        </div>
                                        <div th:if="${category.indent}" style="width: 100%">
                                            <span>‚îî</span>
                                            <span th:id="${category.id}" th:if="${category.type == 'BASIC'}"
                                                  th:utext="${category.name}" class="js-category-name"
                                                  onclick="moveToCategoryPage(this)"></span>
                                        </div>
                                        <span th:id="${category.id}" th:unless="${category.indent}"
                                              th:if="${category.type == 'BASIC'}" th:utext="${category.name}"
                                              class="js-category-name" onclick="moveToCategoryPage(this)"></span>
                                        <div th:unless="${category.type == 'CATEGORY_GROUP' || role == 'ROLE_ANONYMOUS'}"
                                             class="flex-vertical-center">
                                            <i class="material-icons-outlined favorite-color"
                                               th:text="${category.favorite} ? 'star' : 'star_border'"
                                               onclick="requestFavoriteCategory(this)">star</i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </main>
                    </div>
                    <div class="sidebar-go-top">
                        <div class="group-menu-button">Îß®ÏúÑÎ°ú</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="sidebar-mobile-dimmed"></div>
</div>
</html>