<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/workspace_layout}">
<head>
    <title th:text="|${groupName} - 멤버 관리|"></title>
    <link rel="stylesheet" th:href="@{/css/bootstrap.css}">
    <script th:src="@{/js/member-manage.js}"></script>
</head>
<div class="flex-column-center wrapper" layout:fragment="content">
    <div class="content__header">
        <h1 th:text="|${groupName} - 멤버 관리|"></h1>
        <span>해당 그룹의 멤버 정보를 변경할 수 있습니다.</span>
        <div class="margin-top-10">
            <button type="button" class="warn" id="activate-expel" onclick="activateExpelMemberBtn()">멤버 강퇴 활성화</button>
        </div>
    </div>
    <div class="content__body">
        <div class="content__body__block">
            <table class="table">
                <thead>
                <tr>
                    <th>이름</th>
                    <th>이메일</th>
                    <th>권한</th>
                    <th>강퇴</th>
                </tr>
                </thead>
                <tbody>
                <tr class="member-info" th:each="member, index: ${members}" th:id="|member_${index.index}|">
                    <td class="member-name" th:text="${member.name}">USER</td>
                    <td class="member-email" th:text="${member.email}">EMAIL</td>
                    <td>
                        <select class="member-authority">
                            <option th:each="authority: ${availableAuth}"
                                    th:value="${authority}"
                                    th:text="${authority}">
                                권한
                            </option>
                        </select>
                    </td>
                    <td class="member-expel">
                        <button type="button" class="expel-btn warn" th:onclick="|expelMember('${index.index}')|" disabled style="opacity: 0.5">강퇴</button>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="content__body__block flex-space-between">
            <button type="button" class="warn" onclick="location.href='/workspace'">취소</button>
            <button type="button" class="save" onclick="save()">저장</button>
        </div>
    </div>
</div>
</html>